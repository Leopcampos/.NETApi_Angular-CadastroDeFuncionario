{"ast":null,"code":"import { environment } from 'src/environments/environment.prod';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ConsultaDependentesComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\")(11, \"button\", 18);\n    i0.ɵɵtext(12, \" Atualizar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \" \\u00A0 \");\n    i0.ɵɵelementStart(14, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function ConsultaDependentesComponent_tr_19_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const item_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.excluirDependente(item_r1.id));\n    });\n    i0.ɵɵtext(15, \" Excluir \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 4, item_r1.nome));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 6, item_r1.dataNascimento, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind1(9, 9, item_r1.funcionario.nome), \" (CPF: \", item_r1.funcionario.cpf, \") \");\n  }\n}\nexport class ConsultaDependentesComponent {\n  //declarando e inicializando o httpClient\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    //atributos\n    this.listagemDependentes = [];\n    this.mensagem = \"\";\n  }\n  //função executada quando o componente é carregado\n  ngOnInit() {\n    this.consultarDependentes(); //executando a consulta\n  }\n  //função para realizar a consulta de dependentes\n  consultarDependentes() {\n    this.httpClient.get(environment + \"/dependentes\").subscribe(data => {\n      this.listagemDependentes = data;\n    }, e => {\n      console.log(e);\n    });\n  }\n  //função para excluir o dependente\n  excluirDependente(id) {\n    if (window.confirm('Deseja realmente excluir o dependente?')) {\n      //realizando a chamada de exclusão da API..\n      this.httpClient.delete(environment + '/dependentes/' + id, {\n        responseType: 'text'\n      }).subscribe(data => {\n        this.mensagem = data;\n        this.consultarDependentes();\n      }, e => {\n        console.log(e);\n      });\n    }\n  }\n  //função para limpar as mensagens..\n  limparMensagens() {\n    this.mensagem = \"\";\n  }\n}\nConsultaDependentesComponent.ɵfac = function ConsultaDependentesComponent_Factory(t) {\n  return new (t || ConsultaDependentesComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nConsultaDependentesComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ConsultaDependentesComponent,\n  selectors: [[\"app-consulta-dependentes\"]],\n  decls: 48,\n  vars: 4,\n  consts: [[\"role\", \"alert\", 1, \"alert\", \"alert-secondary\", \"alert-dismissible\", \"fade\", \"show\", 3, \"hidden\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [1, \"table\", \"table-bordered\", \"table-light\", \"table-stripped\", \"table-hover\"], [\"width\", \"180\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"4\"], [\"id\", \"janela_edicao\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-content\"], [1, \"modal-header\", \"bg-primary\"], [1, \"text-title\", \"text-white\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [\"type\", \"text\", 1, \"form-control\"], [\"type\", \"date\", 1, \"form-control\"], [1, \"form-select\"], [\"value\", \"\"], [\"type\", \"submit\", \"value\", \"Atualizar Dependente\", 1, \"btn\", \"btn-success\"], [\"data-bs-target\", \"#janela_edicao\", \"data-bs-toggle\", \"modal\", 1, \"btn\", \"btn-primary\", \"btn-sm\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n  template: function ConsultaDependentesComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"strong\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function ConsultaDependentesComponent_Template_button_click_3_listener() {\n        return ctx.limparMensagens();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"h5\");\n      i0.ɵɵtext(5, \"Consulta de Dependentes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"br\");\n      i0.ɵɵelementStart(7, \"table\", 2)(8, \"thead\")(9, \"tr\")(10, \"th\");\n      i0.ɵɵtext(11, \"Nome do Dependente\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\");\n      i0.ɵɵtext(13, \"Data de Nascimento\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\");\n      i0.ɵɵtext(15, \"Funcionario\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 3);\n      i0.ɵɵtext(17, \"Opera\\u00E7\\u00F5es\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(18, \"tbody\");\n      i0.ɵɵtemplate(19, ConsultaDependentesComponent_tr_19_Template, 16, 11, \"tr\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"tfoot\")(21, \"tr\")(22, \"td\", 5);\n      i0.ɵɵtext(23);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(24, \"div\", 6)(25, \"div\", 7)(26, \"div\", 8)(27, \"div\", 9)(28, \"h5\", 10);\n      i0.ɵɵtext(29, \"Atualizar Dependente\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(30, \"button\", 11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"div\", 12)(32, \"form\")(33, \"label\");\n      i0.ɵɵtext(34, \"Nome do dependente:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(35, \"input\", 13)(36, \"br\");\n      i0.ɵɵelementStart(37, \"label\");\n      i0.ɵɵtext(38, \"Data de Nascimento:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"input\", 14)(40, \"br\");\n      i0.ɵɵelementStart(41, \"label\");\n      i0.ɵɵtext(42, \"Selecione o Funcion\\u00E1rio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"select\", 15)(44, \"option\", 16);\n      i0.ɵɵtext(45, \"Escolha uma op\\u00E7\\u00E3o\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(46, \"br\")(47, \"input\", 17);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"hidden\", !ctx.mensagem);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.mensagem);\n      i0.ɵɵadvance(17);\n      i0.ɵɵproperty(\"ngForOf\", ctx.listagemDependentes);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" Quantidade de registros: \", ctx.listagemDependentes.length, \" \");\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.NgControlStatusGroup, i3.NgForm, i2.UpperCasePipe, i2.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["environment","i0","ConsultaDependentesComponent","constructor","httpClient","ngOnInit","consultarDependentes","get","subscribe","data","listagemDependentes","e","console","log","excluirDependente","id","window","confirm","delete","responseType","mensagem","limparMensagens","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Projetos\\Funcionarios\\Funcionarios\\ClientApp\\src\\app\\consulta-dependentes\\consulta-dependentes.component.ts","C:\\Projetos\\Funcionarios\\Funcionarios\\ClientApp\\src\\app\\consulta-dependentes\\consulta-dependentes.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment.prod';\r\n\r\n@Component({\r\n  selector: 'app-consulta-dependentes',\r\n  templateUrl: './consulta-dependentes.component.html',\r\n  styleUrls: ['./consulta-dependentes.component.css']\r\n})\r\nexport class ConsultaDependentesComponent implements OnInit {\r\n\r\n  //atributos\r\n  listagemDependentes: any[] = [];\r\n  mensagem: string = \"\";\r\n\r\n  //declarando e inicializando o httpClient\r\n  constructor(private httpClient: HttpClient) { }\r\n\r\n  //função executada quando o componente é carregado\r\n  ngOnInit(): void {\r\n    this.consultarDependentes(); //executando a consulta\r\n  }\r\n\r\n  //função para realizar a consulta de dependentes\r\n  consultarDependentes(): void {\r\n    this.httpClient.get<any[]>(environment + \"/dependentes\")\r\n      .subscribe(\r\n        (data: any[]) => {\r\n          this.listagemDependentes = data;\r\n        },\r\n        e => {\r\n          console.log(e);\r\n        }\r\n      );\r\n  }\r\n\r\n  //função para excluir o dependente\r\n  excluirDependente(id: any): void {\r\n\r\n    if (window.confirm('Deseja realmente excluir o dependente?')) {\r\n\r\n      //realizando a chamada de exclusão da API..\r\n      this.httpClient.delete(environment + '/dependentes/' + id,\r\n        { responseType: 'text' })\r\n        .subscribe(\r\n          data => {\r\n            this.mensagem = data;\r\n            this.consultarDependentes();\r\n          },\r\n          e => {\r\n            console.log(e);\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  //função para limpar as mensagens..\r\n  limparMensagens(): void {\r\n    this.mensagem = \"\";\r\n  }\r\n}\r\n","<div class=\"alert alert-secondary alert-dismissible fade show\" role=\"alert\"\r\n    [hidden]=\"!mensagem\">\r\n    <strong>{{mensagem}}</strong>\r\n    <button type=\"button\" class=\"btn-close\" (click)=\"limparMensagens()\" aria-label=\"Close\"></button>\r\n</div>\r\n\r\n<h5>Consulta de Dependentes</h5>\r\n<br/>\r\n\r\n<table class=\"table table-bordered table-light table-stripped table-hover\">\r\n    <thead>\r\n        <tr>\r\n            <th>Nome do Dependente</th>\r\n            <th>Data de Nascimento</th>\r\n            <th>Funcionario</th>\r\n            <th width=\"180\">Operações</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr *ngFor=\"let item of listagemDependentes\">\r\n            <td>{{item.nome | uppercase}}</td>\r\n            <td>{{item.dataNascimento | date : 'dd/MM/yyyy'}}</td>\r\n            <td>\r\n                {{item.funcionario.nome | uppercase}} (CPF: {{item.funcionario.cpf}})\r\n            </td>\r\n            <td>\r\n                <button class=\"btn btn-primary btn-sm\"\r\n                    data-bs-target=\"#janela_edicao\"\r\n                    data-bs-toggle=\"modal\">\r\n                    Atualizar\r\n                </button>\r\n                &nbsp;\r\n                <button class=\"btn btn-danger btn-sm\"\r\n                    (click)=\"excluirDependente(item.id)\">\r\n                    Excluir\r\n                </button>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n    <tfoot>\r\n        <tr>\r\n            <td colspan=\"4\">\r\n                Quantidade de registros: {{listagemDependentes.length}}\r\n            </td>\r\n        </tr>\r\n    </tfoot>\r\n</table>\r\n\r\n<!-- Janela modal para edição de dependente -->\r\n<div id=\"janela_edicao\" class=\"modal fade\">\r\n    <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header bg-primary\">\r\n                <h5 class=\"text-title text-white\">Atualizar Dependente</h5>\r\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form>\r\n\r\n                    <label>Nome do dependente:</label>\r\n                    <input type=\"text\" class=\"form-control\"/>\r\n                    <br/>\r\n\r\n                    <label>Data de Nascimento:</label>\r\n                    <input type=\"date\" class=\"form-control\"/>\r\n                    <br/>\r\n\r\n                    <label>Selecione o Funcionário:</label>\r\n                    <select class=\"form-select\">\r\n                        <option value=\"\">Escolha uma opção</option>\r\n                    </select>\r\n                    <br/>\r\n\r\n                    <input type=\"submit\" value=\"Atualizar Dependente\"\r\n                           class=\"btn btn-success\"/>\r\n\r\n                </form>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}