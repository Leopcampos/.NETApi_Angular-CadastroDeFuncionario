{"ast":null,"code":"import { environment } from 'src/environments/environment';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction ConsultaFuncionariosComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\", 28);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 29)(17, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function ConsultaFuncionariosComponent_tr_29_Template_button_click_17_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.exibirDetalhes(item_r2));\n    });\n    i0.ɵɵtext(18, \" Ver Dependentes \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"td\")(20, \"button\", 31);\n    i0.ɵɵtext(21, \" Atualizar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(22, \" \\u00A0 \");\n    i0.ɵɵelementStart(23, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ConsultaFuncionariosComponent_tr_29_Template_button_click_23_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const item_r2 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.excluirFuncionario(item_r2));\n    });\n    i0.ɵɵtext(24, \" Excluir \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 7, item_r2.nome));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.cpf);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.matricula);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(10, 9, item_r2.salario, \"R$ \"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(13, 12, item_r2.dataAdmissao, \"dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.dependentes.length);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", item_r2.dependentes.length == 0);\n  }\n}\nfunction ConsultaFuncionariosComponent_div_42_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\");\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"date\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, item_r7.nome));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, item_r7.dataNascimento, \"dd/MM/yyyy\"));\n  }\n}\nfunction ConsultaFuncionariosComponent_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"div\")(2, \"strong\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"uppercase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\");\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"br\");\n    i0.ɵɵelementStart(16, \"table\", 33)(17, \"thead\")(18, \"tr\")(19, \"th\");\n    i0.ɵɵtext(20, \"Nome do Dependente\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"th\");\n    i0.ɵɵtext(22, \"Data de Nascimento\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(23, \"tbody\");\n    i0.ɵɵtemplate(24, ConsultaFuncionariosComponent_div_42_tr_24_Template, 7, 7, \"tr\", 6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"tfoot\")(26, \"tr\")(27, \"td\", 4);\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 7, ctx_r1.funcionario.nome));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" CPF: \", ctx_r1.funcionario.cpf, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Matr\\u00EDcula: \", ctx_r1.funcionario.matricula, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Sal\\u00E1rio: \", i0.ɵɵpipeBind2(11, 9, ctx_r1.funcionario.salario, \"R$ \"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" Data de Admiss\\u00E3o: \", i0.ɵɵpipeBind2(14, 12, ctx_r1.funcionario.dataAdmissao, \"dd/MM/yyyy\"), \" \");\n    i0.ɵɵadvance(11);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.funcionario.dependentes);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Quantidade de dependentes: \", ctx_r1.funcionario.dependentes.length, \" \");\n  }\n}\nexport class ConsultaFuncionariosComponent {\n  //inicializando o componente HttpClient\n  constructor(httpClient) {\n    this.httpClient = httpClient;\n    //atributos\n    this.listagemFuncionarios = [];\n    this.mensagemSucesso = \"\";\n    this.mensagemErro = \"\";\n  }\n  //função executada quando o componente é carregado \n  ngOnInit() {\n    this.consultarFuncionarios();\n  }\n  //função executada para consultar os funcionarios\n  consultarFuncionarios() {\n    //enviando uma chamada GET para a api\n    this.httpClient.get(environment.apiUrl + \"/funcionarios\").subscribe(data => {\n      this.listagemFuncionarios = data;\n    }, e => {\n      console.log(e);\n    });\n  }\n  //função para exibir os dados do funcionario e de seus dependentes..\n  exibirDetalhes(item) {\n    this.funcionario = item;\n  }\n  //função para excluir um funcionario\n  excluirFuncionario(item) {\n    //verificando se o usuario deseja excluir o funcionario\n    if (window.confirm('Deseja excluir o funcionário?\\n' + item.nome)) {\n      //requisição HTTP DELETE para a API..\n      this.httpClient.delete(environment.apiUrl + \"/funcionarios/\" + item.id, {\n        responseType: 'text'\n      }).subscribe(data => {\n        this.mensagemSucesso = data; //exibindo mensagem..\n        this.consultarFuncionarios(); //recarregando a consulta..\n      }, e => {\n        switch (e.status) {\n          case 403:\n            this.mensagemErro = e.error;\n            break;\n          default:\n            console.log(e);\n            break;\n        }\n      });\n    }\n  }\n  //função para limpar as mensagens..\n  limparMensagens() {\n    this.mensagemSucesso = \"\";\n    this.mensagemErro = \"\";\n  }\n}\nConsultaFuncionariosComponent.ɵfac = function ConsultaFuncionariosComponent_Factory(t) {\n  return new (t || ConsultaFuncionariosComponent)(i0.ɵɵdirectiveInject(i1.HttpClient));\n};\nConsultaFuncionariosComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ConsultaFuncionariosComponent,\n  selectors: [[\"app-consulta-funcionarios\"]],\n  decls: 73,\n  vars: 7,\n  consts: [[\"role\", \"alert\", 1, \"alert\", \"alert-success\", \"alert-dismissible\", \"fade\", \"show\", 3, \"hidden\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"btn-close\", 3, \"click\"], [\"role\", \"alert\", 1, \"alert\", \"alert-danger\", \"alert-dismissible\", \"fade\", \"show\", 3, \"hidden\"], [1, \"table\", \"table-bordered\", \"table-light\", \"table-stripped\", \"table-hover\"], [\"colspan\", \"2\"], [\"width\", \"180\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"8\"], [\"id\", \"modal_dependentes\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\", \"modal-lg\"], [1, \"modal-content\"], [1, \"modal-header\", \"bg-secondary\"], [1, \"text-title\", \"text-white\"], [\"type\", \"button\", \"data-bs-dismiss\", \"modal\", \"aria-label\", \"Close\", 1, \"btn-close\"], [1, \"modal-body\"], [4, \"ngIf\"], [1, \"modal-footer\"], [\"data-bs-dismiss\", \"modal\", 1, \"btn\", \"btn-secondary\", \"btn-sm\"], [\"id\", \"modal_edicao\", 1, \"modal\", \"fade\"], [1, \"modal-dialog\", \"modal-dialog-centered\"], [1, \"modal-header\", \"bg-primary\"], [1, \"text-white\", \"text-title\"], [\"type\", \"hidden\", \"name\", \"id\", \"ngModel\", \"\"], [\"type\", \"text\", \"placeholder\", \"Ex: Jo\\u00E3o da Silva\", \"name\", \"nome\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"text\", \"placeholder\", \"0000-000\", \"name\", \"matricula\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"date\", \"name\", \"dataAdmissao\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"text\", \"placeholder\", \"0.00\", \"name\", \"salario\", \"ngModel\", \"\", 1, \"form-control\"], [\"type\", \"submit\", \"value\", \"Atualizar Funcion\\u00E1rio\", 1, \"btn\", \"btn-success\"], [\"width\", \"40\"], [\"width\", \"160\"], [\"data-bs-target\", \"#modal_dependentes\", \"data-bs-toggle\", \"modal\", 1, \"btn\", \"btn-secondary\", \"btn-sm\", 3, \"disabled\", \"click\"], [\"data-bs-target\", \"#modal_edicao\", \"data-bs-toggle\", \"modal\", 1, \"btn\", \"btn-primary\", \"btn-sm\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"], [1, \"table\", \"table-bordered\", \"table-hover\", \"table-stripped\"]],\n  template: function ConsultaFuncionariosComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"strong\");\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function ConsultaFuncionariosComponent_Template_button_click_3_listener() {\n        return ctx.limparMensagens();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"strong\");\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function ConsultaFuncionariosComponent_Template_button_click_7_listener() {\n        return ctx.limparMensagens();\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"h5\");\n      i0.ɵɵtext(9, \"Consulta de Funcion\\u00E1rios\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"br\");\n      i0.ɵɵelementStart(11, \"table\", 3)(12, \"thead\")(13, \"tr\")(14, \"th\");\n      i0.ɵɵtext(15, \"Nome do Funcion\\u00E1rio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\");\n      i0.ɵɵtext(17, \"CPF\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\");\n      i0.ɵɵtext(19, \"Matr\\u00EDcula\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"th\");\n      i0.ɵɵtext(21, \"Sal\\u00E1rio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(22, \"th\");\n      i0.ɵɵtext(23, \"Data de Admiss\\u00E3o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(24, \"th\", 4);\n      i0.ɵɵtext(25, \"Dependentes\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"th\", 5);\n      i0.ɵɵtext(27, \"Opera\\u00E7\\u00F5es\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(28, \"tbody\");\n      i0.ɵɵtemplate(29, ConsultaFuncionariosComponent_tr_29_Template, 25, 15, \"tr\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(30, \"tfoot\")(31, \"tr\")(32, \"td\", 7);\n      i0.ɵɵtext(33);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(34, \"div\", 8)(35, \"div\", 9)(36, \"div\", 10)(37, \"div\", 11)(38, \"h5\", 12);\n      i0.ɵɵtext(39, \"Dependentes do Funcion\\u00E1rio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(40, \"button\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(41, \"div\", 14);\n      i0.ɵɵtemplate(42, ConsultaFuncionariosComponent_div_42_Template, 29, 15, \"div\", 15);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(43, \"div\", 16)(44, \"button\", 17);\n      i0.ɵɵtext(45, \" Fechar Janela \");\n      i0.ɵɵelementEnd()()()()();\n      i0.ɵɵelementStart(46, \"div\", 18)(47, \"div\", 19)(48, \"div\", 10)(49, \"div\", 20)(50, \"h5\", 21);\n      i0.ɵɵtext(51, \"Atualizar Funcion\\u00E1rio\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(52, \"button\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(53, \"div\", 14)(54, \"form\");\n      i0.ɵɵelement(55, \"input\", 22);\n      i0.ɵɵelementStart(56, \"label\");\n      i0.ɵɵtext(57, \"Nome do Funcion\\u00E1rio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(58, \"input\", 23)(59, \"br\");\n      i0.ɵɵelementStart(60, \"label\");\n      i0.ɵɵtext(61, \"Matr\\u00EDcula:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(62, \"input\", 24)(63, \"br\");\n      i0.ɵɵelementStart(64, \"label\");\n      i0.ɵɵtext(65, \"Data de Admiss\\u00E3o:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(66, \"input\", 25)(67, \"br\");\n      i0.ɵɵelementStart(68, \"label\");\n      i0.ɵɵtext(69, \"Sal\\u00E1rio:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(70, \"input\", 26)(71, \"br\")(72, \"input\", 27);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"hidden\", !ctx.mensagemSucesso);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.mensagemSucesso);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hidden\", !ctx.mensagemErro);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.mensagemErro);\n      i0.ɵɵadvance(23);\n      i0.ɵɵproperty(\"ngForOf\", ctx.listagemFuncionarios);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\" Quantidade de registros: \", ctx.listagemFuncionarios.length, \" \");\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngIf\", ctx.funcionario);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.NgModel, i3.NgForm, i2.UpperCasePipe, i2.CurrencyPipe, i2.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["environment","i0","ConsultaFuncionariosComponent","constructor","httpClient","ngOnInit","consultarFuncionarios","get","apiUrl","subscribe","data","listagemFuncionarios","e","console","log","exibirDetalhes","item","funcionario","excluirFuncionario","window","confirm","nome","delete","id","responseType","mensagemSucesso","status","mensagemErro","error","limparMensagens","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Projetos\\Funcionarios\\Funcionarios\\ClientApp\\src\\app\\consulta-funcionarios\\consulta-funcionarios.component.ts","C:\\Projetos\\Funcionarios\\Funcionarios\\ClientApp\\src\\app\\consulta-funcionarios\\consulta-funcionarios.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-consulta-funcionarios',\r\n  templateUrl: './consulta-funcionarios.component.html',\r\n  styleUrls: ['./consulta-funcionarios.component.css']\r\n})\r\n\r\nexport class ConsultaFuncionariosComponent {\r\n\r\n  //atributos\r\n  listagemFuncionarios: any[] = [];\r\n  funcionario: any;\r\n\r\n  mensagemSucesso: string = \"\";\r\n  mensagemErro: string = \"\";\r\n\r\n  //inicializando o componente HttpClient\r\n  constructor(private httpClient: HttpClient) { }\r\n\r\n  //função executada quando o componente é carregado \r\n  ngOnInit(): void {\r\n    this.consultarFuncionarios();\r\n  }\r\n\r\n  //função executada para consultar os funcionarios\r\n  consultarFuncionarios(): void {\r\n\r\n    //enviando uma chamada GET para a api\r\n    this.httpClient.get<any[]>(environment.apiUrl + \"/funcionarios\")\r\n      .subscribe(\r\n        (data: any[]) => {\r\n          this.listagemFuncionarios = data;\r\n        },\r\n        e => {\r\n          console.log(e);\r\n        }\r\n      );\r\n  }\r\n\r\n  //função para exibir os dados do funcionario e de seus dependentes..\r\n  exibirDetalhes(item: any): void {\r\n    this.funcionario = item;\r\n  }\r\n\r\n  //função para excluir um funcionario\r\n  excluirFuncionario(item: any): void {\r\n\r\n    //verificando se o usuario deseja excluir o funcionario\r\n    if (window.confirm('Deseja excluir o funcionário?\\n' + item.nome)) {\r\n\r\n      //requisição HTTP DELETE para a API..\r\n      this.httpClient.delete(environment.apiUrl + \"/funcionarios/\" + item.id,\r\n        { responseType: 'text' })\r\n        .subscribe(\r\n          data => {\r\n            this.mensagemSucesso = data; //exibindo mensagem..\r\n            this.consultarFuncionarios(); //recarregando a consulta..\r\n          },\r\n          e => {\r\n            switch (e.status) {\r\n              case 403:\r\n                this.mensagemErro = e.error;\r\n                break;\r\n\r\n              default:\r\n                console.log(e);\r\n                break;\r\n            }\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  //função para limpar as mensagens..\r\n  limparMensagens(): void {\r\n    this.mensagemSucesso = \"\";\r\n    this.mensagemErro = \"\";\r\n  }\r\n\r\n}\r\n","<div class=\"alert alert-success alert-dismissible fade show\" [hidden]=\"!mensagemSucesso\" role=\"alert\">\r\n    <strong>{{mensagemSucesso}}</strong>\r\n    <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"limparMensagens()\"></button>\r\n</div>\r\n\r\n<div class=\"alert alert-danger alert-dismissible fade show\" [hidden]=\"!mensagemErro\" role=\"alert\">\r\n    <strong>{{mensagemErro}}</strong>\r\n    <button type=\"button\" class=\"btn-close\" aria-label=\"Close\" (click)=\"limparMensagens()\"></button>\r\n</div>\r\n\r\n<h5>Consulta de Funcionários</h5>\r\n<br />\r\n\r\n<table class=\"table table-bordered table-light table-stripped table-hover\">\r\n    <thead>\r\n        <tr>\r\n            <th>Nome do Funcionário</th>\r\n            <th>CPF</th>\r\n            <th>Matrícula</th>\r\n            <th>Salário</th>\r\n            <th>Data de Admissão</th>\r\n            <th colspan=\"2\">Dependentes</th>\r\n            <th width=\"180\">Operações</th>\r\n        </tr>\r\n    </thead>\r\n    <tbody>\r\n        <tr *ngFor=\"let item of listagemFuncionarios\">\r\n            <td>{{item.nome | uppercase}}</td>\r\n            <td>{{item.cpf}}</td>\r\n            <td>{{item.matricula}}</td>\r\n            <td>{{item.salario | currency : 'R$ '}}</td>\r\n            <td>{{item.dataAdmissao | date : 'dd/MM/yyyy'}}</td>\r\n            <td width=\"40\">{{item.dependentes.length}}</td>\r\n            <td width=\"160\">\r\n                <button class=\"btn btn-secondary btn-sm\" [disabled]=\"item.dependentes.length == 0\"\r\n                    data-bs-target=\"#modal_dependentes\" data-bs-toggle=\"modal\" (click)=\"exibirDetalhes(item)\">\r\n                    Ver Dependentes\r\n                </button>\r\n            </td>\r\n            <td>\r\n                <button class=\"btn btn-primary btn-sm\" data-bs-target=\"#modal_edicao\" data-bs-toggle=\"modal\">\r\n                    Atualizar\r\n                </button>\r\n                &nbsp;\r\n                <button class=\"btn btn-danger btn-sm\" (click)=\"excluirFuncionario(item)\">\r\n                    Excluir\r\n                </button>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n    <tfoot>\r\n        <tr>\r\n            <td colspan=\"8\">\r\n                Quantidade de registros: {{listagemFuncionarios.length}}\r\n            </td>\r\n        </tr>\r\n    </tfoot>\r\n</table>\r\n\r\n<!-- Janela modal para exibir os dependentes do funcionário -->\r\n<div id=\"modal_dependentes\" class=\"modal fade\">\r\n    <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header bg-secondary\">\r\n                <h5 class=\"text-title text-white\">Dependentes do Funcionário</h5>\r\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <div *ngIf=\"funcionario\">\r\n\r\n                    <div>\r\n                        <strong>{{funcionario.nome | uppercase}}</strong>\r\n                    </div>\r\n                    <div>\r\n                        CPF: {{funcionario.cpf}}\r\n                    </div>\r\n                    <div>\r\n                        Matrícula: {{funcionario.matricula}}\r\n                    </div>\r\n                    <div>\r\n                        Salário: {{funcionario.salario | currency : 'R$ '}}\r\n                    </div>\r\n                    <div>\r\n                        Data de Admissão: {{funcionario.dataAdmissao | date : 'dd/MM/yyyy'}}\r\n                    </div>\r\n\r\n                    <br />\r\n\r\n                    <table class=\"table table-bordered table-hover table-stripped\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Nome do Dependente</th>\r\n                                <th>Data de Nascimento</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let item of funcionario.dependentes\">\r\n                                <td>{{item.nome | uppercase}}</td>\r\n                                <td>{{item.dataNascimento | date : 'dd/MM/yyyy'}}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tfoot>\r\n                            <tr>\r\n                                <td colspan=\"2\">\r\n                                    Quantidade de dependentes: {{funcionario.dependentes.length}}\r\n                                </td>\r\n                            </tr>\r\n                        </tfoot>\r\n                    </table>\r\n\r\n                </div>\r\n\r\n            </div>\r\n            <div class=\"modal-footer\">\r\n                <button class=\"btn btn-secondary btn-sm\" data-bs-dismiss=\"modal\">\r\n                    Fechar Janela\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Janela modal para edição do funcionário -->\r\n<div id=\"modal_edicao\" class=\"modal fade\">\r\n    <div class=\"modal-dialog modal-dialog-centered\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header bg-primary\">\r\n                <h5 class=\"text-white text-title\">Atualizar Funcionário</h5>\r\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n\r\n                <form>\r\n\r\n                    <!-- campo oculto -->\r\n                    <input type=\"hidden\" name=\"id\" ngModel/>\r\n\r\n                    <label>Nome do Funcionário:</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"Ex: João da Silva\" name=\"nome\" ngModel />\r\n                    <br />\r\n\r\n                    <label>Matrícula:</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"0000-000\" name=\"matricula\" ngModel />\r\n                    <br />\r\n\r\n                    <label>Data de Admissão:</label>\r\n                    <input type=\"date\" class=\"form-control\" name=\"dataAdmissao\" ngModel />\r\n                    <br />\r\n\r\n                    <label>Salário:</label>\r\n                    <input type=\"text\" class=\"form-control\" placeholder=\"0.00\" name=\"salario\" ngModel />\r\n                    <br />\r\n\r\n                    <input type=\"submit\" value=\"Atualizar Funcionário\" class=\"btn btn-success\" />\r\n\r\n                </form>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}